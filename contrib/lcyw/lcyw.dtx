% \iffalse meta-comment
%
% This is the file `lcyw.dtx' to support B. Malyshev Type 1 
% Cyrillic CM fonts in LaTeX.
%
% Copyright (C) 2008 Vladimir Lidovski
%
% It may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3c
% of this license or (at your option) any later version.
% The latest version of this license is in
%    http://www.latex-project.org/lppl.txt
% and version 1.3c or later is part of all distributions of LaTeX 
% version 2005/12/01 or later.
% 
% \fi
% \CheckSum{715}
% \CharacterTable
%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%   Digits        \0\1\2\3\4\5\6\7\8\9
%   Exclamation   \!     Double quote  \"     Hash (number) \#
%   Dollar        \$     Percent       \%     Ampersand     \&
%   Acute accent  \'     Left paren    \(     Right paren   \)
%   Asterisk      \*     Plus          \+     Comma         \,
%   Minus         \-     Point         \.     Solidus       \/
%   Colon         \:     Semicolon     \;     Less than     \<
%   Equals        \=     Greater than  \>     Question mark \?
%   Commercial at \@     Left bracket  \[     Backslash     \\
%   Right bracket \]     Circumflex    \^     Underscore    \_
%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%   Right brace   \}     Tilde         \~}
%
% \changes{v1.0}{2008/04/16}{Initial version}
% \changes{v1.1}{2008/07/17}{Documentation improvement}
%
%\iffalse
%<*LCYW>
\ProvidesFile{lcywenc.def}
  [2008/04/15 v1.0 Cyrillic encoding definition file]
%</LCYW>
%<*driver>
\documentclass{ltxdoc}
\usepackage[LCYW]{fontenc}
\OnlyDescription
%\RecordChanges
\begin{document}
\DocInput{lcyw.dtx}
\end{document}
%</driver>
%\fi
%
% \title{The \texttt{lcyw} package}
% \author{Vladimir Lidovski\\
%         {\footnotesize litwr@yandex.ru}\\
%         {\footnotesize vol.litwr@gmail.com}\\
%         {\footnotesize http://litwr.boom.ru/tex-en.html}}
% \date{July 17, 2008\\Version 1.1}
%
% \maketitle
%
% \begin{abstract}
%   \noindent This package is used to provide {\LaTeX} support for Cyrillic 
%   CM Type 1 fonts (|wcm*.vf|) which are presented in every {\TeX} distribution.
% \end{abstract}
%
% \section{Definitions for the \texttt{LCYW} encoding}
%
% This provides Russian/Bulgarian languages support for {\LaTeX} users at 
% the base of the Type 1 copies (Cyrillic part by B.~Malyshev) of classic 
% CM fonts (|OT1| part by D.~E.~Knuth, Cyrillic part by A.~Samarin \& N.~Glonti) 
% which present in all {\TeX} distributions. These virtual fonts are using  
% `{\TeX} text Cyrillic' (|LCYW|) encoding. They provide only support for |OT1| 
% encoding, numero sign, left and right pointing guillemets (double angle quotation 
% marks) and Russian alphabets symbols.
%
% However |LCYW| option to |fontenc| is not enough to provide copy \& search 
% features of the pdf viewers because standard |cmap| package lacks support 
% for the virtual fonts. The |LCYW| encoding companion package |cmap-cyr-vf| 
% should be used together with |cmap| package to provide such support.
%
% The |LCYW| encoding is an extension of the |OT1| encoding: all lower
% 128 positions are almost the same (and this part of the file |lcywenc.def| was 
% mostly taken from |ot1enc.def|) but 69 of the upper 128 positions are used for 
% Cyrillic glyphs, Spanish exclamation and question marks, and the numero sign 
% (|U+2116|). The guillemets are situated at the places of the mentioned above
% Spanish marks. So the left guillemet is at position 60 and the right guillemet 
% is at position 62. The upper positions 
% (192--255) are the same as in the most popular |T2A| encoding for main 64 
% (32 capital + 32 small) letters of Russian alphabet. The positions for other 
% symbols are: |\CYRYO| --- 168, |\cyryo| --- 184, |\textnumero|~--- 185, 
% !` --- 171, ?` --- 187 (see table below).
%
% You may use |less-than| (|<|) and |greater-than| (|>|) signs to enter guillemets. Spanish 
% marks may be entered by standard ligatures |!`| and |?`|.
%
% Important note: Unlike old |LCY| font encoding |LCYW| is completely 
% \emph{compatible} with the \LaTeXe\ standards.
%
% \begin{center}
% \begin{tabular}{ccccccccccccccccc}
% &0&1&2&3&4&5&6&7&8&9& A& B& C& D& E& F\cr
% \hline
% 00&\symbol{0}&\symbol{1}&\symbol{2}&\symbol{3}&\symbol{4}&\symbol{5}&\symbol{6}&\symbol{7}&\symbol{8}&\symbol{9}&\symbol{10}&\symbol{11}&\symbol{12}&\symbol{13}&\symbol{14}&\symbol{15}\cr
% 10&\symbol{16}&\symbol{17}&\symbol{18}&\symbol{19}&\symbol{20}&\symbol{21}&\symbol{22}&\symbol{23}&\symbol{24}&\symbol{25}&\symbol{26}&\symbol{27}&\symbol{28}&\symbol{29}&\symbol{30}&\symbol{31}\cr
% 20&\symbol{32}&\symbol{33}&\symbol{34}&\symbol{35}&\symbol{36}&\symbol{37}&\symbol{38}&\symbol{39}&\symbol{40}&\symbol{41}&\symbol{42}&\symbol{43}&\symbol{44}&\symbol{45}&\symbol{46}&\symbol{47}\cr
% 30&\symbol{48}&\symbol{49}&\symbol{50}&\symbol{51}&\symbol{52}&\symbol{53}&\symbol{54}&\symbol{55}&\symbol{56}&\symbol{57}&\symbol{58}&\symbol{59}&\symbol{60}&\symbol{61}&\symbol{62}&\symbol{63}\cr
% 40&\symbol{64}&\symbol{65}&\symbol{66}&\symbol{67}&\symbol{68}&\symbol{69}&\symbol{70}&\symbol{71}&\symbol{72}&\symbol{73}&\symbol{74}&\symbol{75}&\symbol{76}&\symbol{77}&\symbol{78}&\symbol{79}\cr
% 50&\symbol{80}&\symbol{81}&\symbol{82}&\symbol{83}&\symbol{84}&\symbol{85}&\symbol{86}&\symbol{87}&\symbol{88}&\symbol{89}&\symbol{90}&\symbol{91}&\symbol{92}&\symbol{93}&\symbol{94}&\symbol{95}\cr
% 60&\symbol{96}&\symbol{97}&\symbol{98}&\symbol{99}&\symbol{100}&\symbol{101}&\symbol{102}&\symbol{103}&\symbol{104}&\symbol{105}&\symbol{106}&\symbol{107}&\symbol{108}&\symbol{109}&\symbol{110}&\symbol{111}\cr
% 70&\symbol{112}&\symbol{113}&\symbol{114}&\symbol{115}&\symbol{116}&\symbol{117}&\symbol{118}&\symbol{119}&\symbol{120}&\symbol{121}&\symbol{122}&\symbol{123}&\symbol{124}&\symbol{125}&\symbol{126}&\symbol{127}\cr
% 80&\symbol{128}&\symbol{129}&\symbol{130}&\symbol{131}&\symbol{132}&\symbol{133}&\symbol{134}&\symbol{135}&\symbol{136}&\symbol{137}&\symbol{138}&\symbol{139}&\symbol{140}&\symbol{141}&\symbol{142}&\symbol{143}\cr
% 90&\symbol{144}&\symbol{145}&\symbol{146}&\symbol{147}&\symbol{148}&\symbol{149}&\symbol{150}&\symbol{151}&\symbol{152}&\symbol{153}&\symbol{154}&\symbol{155}&\symbol{156}&\symbol{157}&\symbol{158}&\symbol{159}\cr
%  A0&\symbol{160}&\symbol{161}&\symbol{162}&\symbol{163}&\symbol{164}&\symbol{165}&\symbol{166}&\symbol{167}&\symbol{168}&\symbol{169}&\symbol{170}&\symbol{171}&\symbol{172}&\symbol{173}&\symbol{174}&\symbol{175}\cr
%  B0&\symbol{176}&\symbol{177}&\symbol{178}&\symbol{179}&\symbol{180}&\symbol{181}&\symbol{182}&\symbol{183}&\symbol{184}&\symbol{185}&\symbol{186}&\symbol{187}&\symbol{188}&\symbol{189}&\symbol{190}&\symbol{191}\cr
%  C0&\symbol{192}&\symbol{193}&\symbol{194}&\symbol{195}&\symbol{196}&\symbol{197}&\symbol{198}&\symbol{199}&\symbol{200}&\symbol{201}&\symbol{202}&\symbol{203}&\symbol{204}&\symbol{205}&\symbol{206}&\symbol{207}\cr
%  D0&\symbol{208}&\symbol{209}&\symbol{210}&\symbol{211}&\symbol{212}&\symbol{213}&\symbol{214}&\symbol{215}&\symbol{216}&\symbol{217}&\symbol{218}&\symbol{219}&\symbol{220}&\symbol{221}&\symbol{222}&\symbol{223}\cr
%  E0&\symbol{224}&\symbol{225}&\symbol{226}&\symbol{227}&\symbol{228}&\symbol{229}&\symbol{230}&\symbol{231}&\symbol{232}&\symbol{233}&\symbol{234}&\symbol{235}&\symbol{236}&\symbol{237}&\symbol{238}&\symbol{239}\cr
%  F0&\symbol{240}&\symbol{241}&\symbol{242}&\symbol{243}&\symbol{244}&\symbol{245}&\symbol{246}&\symbol{247}&\symbol{248}&\symbol{249}&\symbol{250}&\symbol{251}&\symbol{252}&\symbol{253}&\symbol{254}&\symbol{255}\cr
% \end{tabular}
% \end{center}
%
% \section{A Unicode support companion package for the \texttt{LCYW} encoding}
%
% Use |cmap-cyr-vf.sty| to provide copy \& find features of pdf viewers. 
% Just place |\usepackage{cmap-cyr-vf}| 
% to the preamble of a document. This style file uses |koi7a.cmap| file.
% It provides support for all Cyrillic Type 1 fonts by B.~Malyshev in the 
% following virtual fonts: 
% |kcm*.vf|, |wcm*.vf| (used by this package), |xcmr*.vf|, and |ycmr*.vf|.
% These virtual fonts give the same symbols set but in the different encodings 
% (see |cmap-cyr-vf.sty| for more details).
% The |LCYW| encoding is directly taken from |wcm*.vf|.
%
% This style may be used separately from |LCYW| encoding to direct Unicode 
% support for any of the mentioned above virtual fonts (at 5, 6, 7, 8, 9, 10, 10.95, 12, 
% 14.4, 17.28, 20.74, 24.88, 29.86, 35.83 pt), e.~g., in the MetaPost programs.
%
%
% \section{A PDF cmap file to support Unicode mapping of LCYW fonts}
%
% The file |koi7a.cmap| sets the following font symbol positions 
% Unicode mapping.
%
% \begin{tabular}[t]{lcr}
% \hline
% |19|&	Numero sign& |U+2116|\\
% |1D|&	Left-pointing double angle quotation& |U+00AB|\\
% |1E|&	Right-pointing double angle quotation& |U+00BB|\\
% |3C|&	Cyrillic small letter io (it is missed in some fonts)& |U+0451|\\
% |3E|&	Cyrillic capital letter io& |U+0401|\\
% |40|--|7E|&	KOI-7 Standard\\
% |7F|&	Cyrillic capital letter hard sign& |U+042A|\\
% \hline
% \end{tabular}
%
% \StopEventually{}
%
%\iffalse
%<*LCYW>
%\fi
%\section{The \texttt{LCYW} encoding file}
%
% Declare the Local Cyrillic encoding (|lcywenc.def| file).  Specify a default 
% for the font substitution process for the |LCYW| encoding.
%
%    \begin{macrocode}
\def\cyrillicencoding{LCYW}         %for babel compatibility
%    \end{macrocode}
% The |LCYW| is not standard encoding listed in the babel package |*.ldf| and |*.cfg| files yet. 
%    \begin{macrocode}
\DeclareFontEncoding{LCYW}{}{}
\DeclareFontSubstitution{\LastDeclaredEncoding}{cmr}{m}{n}
%    \end{macrocode}
% The next lines are copied from the |ot1enc.def| file
%    \begin{macrocode}
\DeclareTextAccent{\"}{LCYW}{127}
\DeclareTextAccent{\'}{LCYW}{19}
\DeclareTextAccent{\.}{LCYW}{95}
\DeclareTextAccent{\=}{LCYW}{22}
\DeclareTextAccent{\^}{LCYW}{94}
\DeclareTextAccent{\`}{LCYW}{18}
\DeclareTextAccent{\~}{LCYW}{126}
\DeclareTextAccent{\H}{LCYW}{125}
\DeclareTextAccent{\u}{LCYW}{21}
\DeclareTextAccent{\v}{LCYW}{20}
\DeclareTextAccent{\r}{LCYW}{23}
\DeclareTextCommand{\b}{LCYW}[1]
   {\hmode@bgroup\o@lign{\relax#1\crcr\hidewidth\sh@ft{29}%
     \vbox to.2ex{\hbox{\char22}\vss}\hidewidth}\egroup}
\DeclareTextCommand{\c}{LCYW}[1]
   {\leavevmode\setbox\z@\hbox{#1}\ifdim\ht\z@=1ex\accent24 #1%
    \else{\ooalign{\unhbox\z@\crcr\hidewidth\char24\hidewidth}}\fi}
\DeclareTextCommand{\d}{LCYW}[1]
   {\hmode@bgroup
    \o@lign{\relax#1\crcr\hidewidth\sh@ft{10}.\hidewidth}\egroup}
\DeclareTextSymbol{\AE}{LCYW}{29}
\DeclareTextSymbol{\OE}{LCYW}{30}
\DeclareTextSymbol{\O}{LCYW}{31}
\DeclareTextSymbol{\ae}{LCYW}{26}
\DeclareTextSymbol{\i}{LCYW}{16}
\DeclareTextSymbol{\j}{LCYW}{17}
\DeclareTextSymbol{\oe}{LCYW}{27}
\DeclareTextSymbol{\o}{LCYW}{28}
\DeclareTextSymbol{\ss}{LCYW}{25}
\DeclareTextSymbol{\textemdash}{LCYW}{124}
\DeclareTextSymbol{\textendash}{LCYW}{123}
\DeclareTextCommand{\textexclamdown}{LCYW}{!`}
\DeclareTextCommand{\textquestiondown}{LCYW}{?`}
\DeclareTextSymbol{\textquotedblleft}{LCYW}{92}
\DeclareTextSymbol{\textquotedblright}{LCYW}{`\"}
\DeclareTextSymbol{\textquoteleft}{LCYW}{`\`}
\DeclareTextSymbol{\textquoteright}{LCYW}{`\'}
\DeclareTextCommand{\L}{LCYW}
   {\leavevmode\setbox\z@\hbox{L}\hb@xt@\wd\z@{\hss\@xxxii L}}
\DeclareTextCommand{\l}{LCYW}
   {\hmode@bgroup\@xxxii l\egroup}
\DeclareTextCompositeCommand{\r}{LCYW}{A}
   {\leavevmode\setbox\z@\hbox{!}\dimen@\ht\z@\advance\dimen@-1ex%
    \rlap{\raise.67\dimen@\hbox{\char23}}A}
\DeclareTextCommand{\textdollar}{LCYW}{\hmode@bgroup
   \ifdim \fontdimen\@ne\font >\z@
      \slshape
   \else
      \upshape
   \fi
   \char`\$\egroup}
\DeclareTextCommand{\textsterling}{LCYW}{\hmode@bgroup
   \ifdim \fontdimen\@ne\font >\z@
      \itshape
   \else
      \fontshape{ui}\selectfont
   \fi
   \char`\$\egroup}
\DeclareTextComposite{\.}{LCYW}{i}{`\i}
\DeclareTextComposite{\.}{LCYW}{\i}{`\i}
\DeclareTextCompositeCommand{\`}{LCYW}{i}{\@tabacckludge`\i}
\DeclareTextCompositeCommand{\'}{LCYW}{i}{\@tabacckludge'\i}
\DeclareTextCompositeCommand{\^}{LCYW}{i}{\^\i}
\DeclareTextCompositeCommand{\"}{LCYW}{i}{\"\i}
%    \end{macrocode}
% The next definitions are missed in |ot1def.enc|
%    \begin{macrocode}
\DeclareTextAccent{\U}{\LastDeclaredEncoding}{20}
\DeclareTextSymbol{\cyrdash}{\LastDeclaredEncoding}{124}
\DeclareTextSymbol{\textasciicircum}{\LastDeclaredEncoding}{94}
\DeclareTextSymbol{\textasciitilde}{\LastDeclaredEncoding}{126}
\DeclareTextSymbol{\textquotedbl}{\LastDeclaredEncoding}{34}
\DeclareTextSymbol{\guillemotleft}{\LastDeclaredEncoding}{60}
\DeclareTextSymbol{\guillemotright}{\LastDeclaredEncoding}{62}
%    \end{macrocode}
% The next lines relate to Cyrillic symbols
%    \begin{macrocode}
\DeclareTextSymbol{\textnumero}{\LastDeclaredEncoding}{185}
\DeclareTextComposite{\.}{\LastDeclaredEncoding}{i}{`\i}
\DeclareTextSymbol{\CYRA}{\LastDeclaredEncoding}{192}
\DeclareTextSymbol{\cyra}{\LastDeclaredEncoding}{224}
\DeclareTextSymbol{\CYRB}{\LastDeclaredEncoding}{193}
\DeclareTextSymbol{\cyrb}{\LastDeclaredEncoding}{225}
\DeclareTextSymbol{\CYRV}{\LastDeclaredEncoding}{194}
\DeclareTextSymbol{\cyrv}{\LastDeclaredEncoding}{226}
\DeclareTextSymbol{\CYRG}{\LastDeclaredEncoding}{195}
\DeclareTextSymbol{\cyrg}{\LastDeclaredEncoding}{227}
\DeclareTextSymbol{\CYRD}{\LastDeclaredEncoding}{196}
\DeclareTextSymbol{\cyrd}{\LastDeclaredEncoding}{228}
\DeclareTextSymbol{\CYRE}{\LastDeclaredEncoding}{197}
\DeclareTextSymbol{\cyre}{\LastDeclaredEncoding}{229}
\DeclareTextSymbol{\CYRZH}{\LastDeclaredEncoding}{198}
\DeclareTextSymbol{\cyrzh}{\LastDeclaredEncoding}{230}
\DeclareTextSymbol{\CYRZ}{\LastDeclaredEncoding}{199}
\DeclareTextSymbol{\cyrz}{\LastDeclaredEncoding}{231}
\DeclareTextSymbol{\CYRI}{\LastDeclaredEncoding}{200}
\DeclareTextSymbol{\cyri}{\LastDeclaredEncoding}{232}
\DeclareTextSymbol{\CYRISHRT}{\LastDeclaredEncoding}{201}
\DeclareTextSymbol{\cyrishrt}{\LastDeclaredEncoding}{233}
\DeclareTextSymbol{\CYRK}{\LastDeclaredEncoding}{202}
\DeclareTextSymbol{\cyrk}{\LastDeclaredEncoding}{234}
\DeclareTextSymbol{\CYRL}{\LastDeclaredEncoding}{203}
\DeclareTextSymbol{\cyrl}{\LastDeclaredEncoding}{235}
\DeclareTextSymbol{\CYRM}{\LastDeclaredEncoding}{204}
\DeclareTextSymbol{\cyrm}{\LastDeclaredEncoding}{236}
\DeclareTextSymbol{\CYRN}{\LastDeclaredEncoding}{205}
\DeclareTextSymbol{\cyrn}{\LastDeclaredEncoding}{237}
\DeclareTextSymbol{\CYRO}{\LastDeclaredEncoding}{206}
\DeclareTextSymbol{\cyro}{\LastDeclaredEncoding}{238}
\DeclareTextSymbol{\CYRP}{\LastDeclaredEncoding}{207}
\DeclareTextSymbol{\cyrp}{\LastDeclaredEncoding}{239}
\DeclareTextSymbol{\CYRR}{\LastDeclaredEncoding}{208}
\DeclareTextSymbol{\cyrr}{\LastDeclaredEncoding}{240}
\DeclareTextSymbol{\CYRS}{\LastDeclaredEncoding}{209}
\DeclareTextSymbol{\cyrs}{\LastDeclaredEncoding}{241}
\DeclareTextSymbol{\CYRT}{\LastDeclaredEncoding}{210}
\DeclareTextSymbol{\cyrt}{\LastDeclaredEncoding}{242}
\DeclareTextSymbol{\CYRU}{\LastDeclaredEncoding}{211}
\DeclareTextSymbol{\cyru}{\LastDeclaredEncoding}{243}
\DeclareTextSymbol{\CYRF}{\LastDeclaredEncoding}{212}
\DeclareTextSymbol{\cyrf}{\LastDeclaredEncoding}{244}
\DeclareTextSymbol{\CYRH}{\LastDeclaredEncoding}{213}
\DeclareTextSymbol{\cyrh}{\LastDeclaredEncoding}{245}
\DeclareTextSymbol{\CYRC}{\LastDeclaredEncoding}{214}
\DeclareTextSymbol{\cyrc}{\LastDeclaredEncoding}{246}
\DeclareTextSymbol{\CYRCH}{\LastDeclaredEncoding}{215}
\DeclareTextSymbol{\cyrch}{\LastDeclaredEncoding}{247}
\DeclareTextSymbol{\CYRSH}{\LastDeclaredEncoding}{216}
\DeclareTextSymbol{\cyrsh}{\LastDeclaredEncoding}{248}
\DeclareTextSymbol{\CYRSHCH}{\LastDeclaredEncoding}{217}
\DeclareTextSymbol{\cyrshch}{\LastDeclaredEncoding}{249}
\DeclareTextSymbol{\CYRHRDSN}{\LastDeclaredEncoding}{218}
\DeclareTextSymbol{\cyrhrdsn}{\LastDeclaredEncoding}{250}
\DeclareTextSymbol{\CYRERY}{\LastDeclaredEncoding}{219}
\DeclareTextSymbol{\cyrery}{\LastDeclaredEncoding}{251}
\DeclareTextSymbol{\CYRSFTSN}{\LastDeclaredEncoding}{220}
\DeclareTextSymbol{\cyrsftsn}{\LastDeclaredEncoding}{252}
\DeclareTextSymbol{\CYREREV}{\LastDeclaredEncoding}{221}
\DeclareTextSymbol{\cyrerev}{\LastDeclaredEncoding}{253}
\DeclareTextSymbol{\CYRYU}{\LastDeclaredEncoding}{222}
\DeclareTextSymbol{\cyryu}{\LastDeclaredEncoding}{254}
\DeclareTextSymbol{\CYRYA}{\LastDeclaredEncoding}{223}
\DeclareTextSymbol{\cyrya}{\LastDeclaredEncoding}{255}
\DeclareTextSymbol{\CYRYO}{\LastDeclaredEncoding}{168}
\DeclareTextSymbol{\cyryo}{\LastDeclaredEncoding}{184}
\DeclareTextSymbol{\CYRII}{\LastDeclaredEncoding}{73}
\DeclareTextSymbol{\cyrii}{\LastDeclaredEncoding}{105}
\DeclareTextSymbol{\CYRJE}{\LastDeclaredEncoding}{74}
\DeclareTextSymbol{\cyrje}{\LastDeclaredEncoding}{106}
\DeclareTextSymbol{\CYRQ}{\LastDeclaredEncoding}{81}
\DeclareTextSymbol{\cyrq}{\LastDeclaredEncoding}{113}
\DeclareTextSymbol{\CYRW}{\LastDeclaredEncoding}{87}
\DeclareTextSymbol{\cyrw}{\LastDeclaredEncoding}{119}
\DeclareTextComposite{\"}{\LastDeclaredEncoding}{\CYRE}{168}
\DeclareTextComposite{\"}{\LastDeclaredEncoding}{\cyre}{184}
\DeclareTextComposite{\U}{\LastDeclaredEncoding}{\CYRI}{201}
\DeclareTextComposite{\U}{\LastDeclaredEncoding}{\cyri}{233}
%    \end{macrocode}
%\iffalse
%</LCYW>
%\fi
%
%\iffalse
%<*package>
%\fi
% \section{The \texttt{cmap-cyr-vf.sty} file}
%
%    \begin{macrocode}
%% This is file provides Unicode support for wcm* (almost CP1251), 
%%   kcm* (almost KOI8-R), xcm* (almost CP866), ycm* (almost ISO 8859-5) 
%%   virtual fonts
\def\fileversion{1.0}
\def\filedate{2008/03/29}
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\RequirePackage{ifpdf}
\ProvidesPackage{cmap-cyr-vf}[\filedate\space\fileversion\space
 CMAP for Cyrillic part by B.Malyshev (in KOI7) of the virtual fonts]
\ifpdf
%    \end{macrocode}
% The file |koi7a.cmap| is requested in the next line.
%    \begin{macrocode}
\immediate\pdfobj stream file {koi7a.cmap}
%    \end{macrocode}
% \begin{macro}{\addfonttounicode}
% This macro maps to Unicode given font with given size in pt. If size is set to 
% zero then it doesn't pass size information for the mapping command. This macro may 
% be redefined lately. It is only required during initialization of the fonts in 
% this package.
%    \begin{macrocode}
\def\addfonttounicode#1#2{\expandafter\font\csname#1#2\endcsname=#1%
\ifnum0=#2\else\space at #2pt\fi\expandafter\pdffontattr
\csname#1#2\endcsname{/ToUnicode \the\pdflastobj\space 0 R}}
%    \end{macrocode}
% \end{macro}
%    \begin{macrocode}
\addfonttounicode{cmcssbx10}{5}
\addfonttounicode{cmcu10}{5}
\addfonttounicode{cmcssi8}{5}
\addfonttounicode{cmcss8}{5}
\addfonttounicode{cmcitt10}{5}
\addfonttounicode{cmcbx5}{0}
\addfonttounicode{cmcsltt10}{5}
\addfonttounicode{cmctt8}{5}
\addfonttounicode{cmcssdc10}{5}
\addfonttounicode{cmcti7}{5}
\addfonttounicode{cmcbxti10}{5}
\addfonttounicode{cmccsc8}{5}
\addfonttounicode{cmcyr5}{0}
\addfonttounicode{cmcb10}{5}
\addfonttounicode{cmcsl8}{5}
\addfonttounicode{cmcbxsl10}{5}
\addfonttounicode{cmcssbx10}{6}
\addfonttounicode{cmcu10}{6}
\addfonttounicode{cmcssi8}{6}
\addfonttounicode{cmcss8}{6}
\addfonttounicode{cmcitt10}{6}
\addfonttounicode{cmcbx6}{0}
\addfonttounicode{cmcsltt10}{6}
\addfonttounicode{cmctt8}{6}
\addfonttounicode{cmcssdc10}{6}
\addfonttounicode{cmcti7}{6}
\addfonttounicode{cmcbxti10}{6}
\addfonttounicode{cmccsc8}{6}
\addfonttounicode{cmcyr6}{0}
\addfonttounicode{cmcb10}{6}
\addfonttounicode{cmcsl8}{6}
\addfonttounicode{cmcbxsl10}{6}
\addfonttounicode{cmcssbx10}{7}
\addfonttounicode{cmcu10}{7}
\addfonttounicode{cmcssi8}{7}
\addfonttounicode{cmcss8}{7}
\addfonttounicode{cmcitt10}{7}
\addfonttounicode{cmcbx7}{0}
\addfonttounicode{cmcsltt10}{7}
\addfonttounicode{cmctt8}{7}
\addfonttounicode{cmcssdc10}{7}
\addfonttounicode{cmcti7}{0}
\addfonttounicode{cmcbxti10}{7}
\addfonttounicode{cmccsc8}{7}
\addfonttounicode{cmcyr7}{0}
\addfonttounicode{cmcb10}{7}
\addfonttounicode{cmcsl8}{7}
\addfonttounicode{cmcbxsl10}{7}
\addfonttounicode{cmcssbx10}{8}
\addfonttounicode{cmcu10}{8}
\addfonttounicode{cmcssi8}{0}
\addfonttounicode{cmcss8}{0}
\addfonttounicode{cmcitt10}{8}
\addfonttounicode{cmcbx8}{0}
\addfonttounicode{cmcsltt10}{8}
\addfonttounicode{cmctt8}{0}
\addfonttounicode{cmcssdc10}{8}
\addfonttounicode{cmcti8}{0}
\addfonttounicode{cmcbxti10}{8}
\addfonttounicode{cmccsc8}{0}
\addfonttounicode{cmcyr8}{0}
\addfonttounicode{cmcb10}{8}
\addfonttounicode{cmcsl8}{0}
\addfonttounicode{cmcbxsl10}{8}
\addfonttounicode{cmcssbx10}{9}
\addfonttounicode{cmcu10}{9}
\addfonttounicode{cmcssi9}{0}
\addfonttounicode{cmcss9}{0}
\addfonttounicode{cmcitt10}{9}
\addfonttounicode{cmcbx9}{0}
\addfonttounicode{cmcsltt10}{9}
\addfonttounicode{cmctt9}{0}
\addfonttounicode{cmcssdc10}{9}
\addfonttounicode{cmcti9}{0}
\addfonttounicode{cmcbxti10}{9}
\addfonttounicode{cmccsc9}{0}
\addfonttounicode{cmcyr9}{0}
\addfonttounicode{cmcb10}{9}
\addfonttounicode{cmcsl9}{0}
\addfonttounicode{cmcbxsl10}{9}
\addfonttounicode{cmcssbx10}{0}
\addfonttounicode{cmcu10}{0}
\addfonttounicode{cmcssi10}{0}
\addfonttounicode{cmcss10}{0}
\addfonttounicode{cmcitt10}{0}
\addfonttounicode{cmcbx10}{0}
\addfonttounicode{cmcsltt10}{0}
\addfonttounicode{cmctt10}{0}
\addfonttounicode{cmcssdc10}{0}
\addfonttounicode{cmcti10}{0}
\addfonttounicode{cmcbxti10}{0}
\addfonttounicode{cmccsc10}{0}
\addfonttounicode{cmcyr10}{0}
\addfonttounicode{cmcb10}{0}
\addfonttounicode{cmcsl10}{0}
\addfonttounicode{cmcbxsl10}{0}
\addfonttounicode{cmcssbx10}{10.95}
\addfonttounicode{cmcu10}{10.95}
\addfonttounicode{cmcssi10}{10.95}
\addfonttounicode{cmcss10}{10.95}
\addfonttounicode{cmcitt10}{10.95}
\addfonttounicode{cmcbx10}{10.95}
\addfonttounicode{cmcsltt10}{10.95}
\addfonttounicode{cmctt10}{10.95}
\addfonttounicode{cmcssdc10}{10.95}
\addfonttounicode{cmcti10}{10.95}
\addfonttounicode{cmcbxti10}{10.95}
\addfonttounicode{cmccsc10}{10.95}
\addfonttounicode{cmcyr10}{10.95}
\addfonttounicode{cmcb10}{10.95}
\addfonttounicode{cmcsl10}{10.95}
\addfonttounicode{cmcbxsl10}{10.95}
\addfonttounicode{cmcssbx10}{12}
\addfonttounicode{cmcu10}{12}
\addfonttounicode{cmcssi12}{0}
\addfonttounicode{cmcss12}{0}
\addfonttounicode{cmcitt10}{12}
\addfonttounicode{cmcbx12}{0}
\addfonttounicode{cmcsltt10}{12}
\addfonttounicode{cmctt12}{0}
\addfonttounicode{cmcssdc10}{12}
\addfonttounicode{cmcti12}{0}
\addfonttounicode{cmcbxti10}{12}
\addfonttounicode{cmccsc10}{12}
\addfonttounicode{cmcyr12}{0}
\addfonttounicode{cmcb10}{12}
\addfonttounicode{cmcsl12}{0}
\addfonttounicode{cmcbxsl10}{12}
\addfonttounicode{cmcssbx10}{14.4}
\addfonttounicode{cmcu10}{14.4}
\addfonttounicode{cmcssi12}{14.4}
\addfonttounicode{cmcss12}{14.4}
\addfonttounicode{cmcitt10}{14.4}
\addfonttounicode{cmcbx12}{14.4}
\addfonttounicode{cmcsltt10}{14.4}
\addfonttounicode{cmctt12}{14.4}
\addfonttounicode{cmcssdc10}{14.4}
\addfonttounicode{cmcti12}{14.4}
\addfonttounicode{cmcbxti10}{14.4}
\addfonttounicode{cmccsc10}{14.4}
\addfonttounicode{cmcyr12}{14.4}
\addfonttounicode{cmcb10}{14.4}
\addfonttounicode{cmcsl12}{14.4}
\addfonttounicode{cmcbxsl10}{14.4}
\addfonttounicode{cmcssbx10}{17.28}
\addfonttounicode{cmcu10}{17.28}
\addfonttounicode{cmcssi17}{17.28}
\addfonttounicode{cmcss17}{17.28}
\addfonttounicode{cmcitt10}{17.28}
\addfonttounicode{cmcbx12}{17.28}
\addfonttounicode{cmcsltt10}{17.28}
\addfonttounicode{cmctt12}{17.28}
\addfonttounicode{cmcssdc10}{17.28}
\addfonttounicode{cmcti12}{17.28}
\addfonttounicode{cmcbxti10}{17.28}
\addfonttounicode{cmccsc10}{17.28}
\addfonttounicode{cmcyr17}{17.28}
\addfonttounicode{cmcb10}{17.28}
\addfonttounicode{cmcsl12}{17.28}
\addfonttounicode{cmcbxsl10}{17.28}
\addfonttounicode{cmcssbx10}{20.74}
\addfonttounicode{cmcu10}{20.74}
\addfonttounicode{cmcssi17}{20.74}
\addfonttounicode{cmcss17}{20.74}
\addfonttounicode{cmcitt10}{20.74}
\addfonttounicode{cmcbx12}{20.74}
\addfonttounicode{cmcsltt10}{20.74}
\addfonttounicode{cmctt12}{20.74}
\addfonttounicode{cmcssdc10}{20.74}
\addfonttounicode{cmcti12}{20.74}
\addfonttounicode{cmcbxti10}{20.74}
\addfonttounicode{cmccsc10}{20.74}
\addfonttounicode{cmcyr17}{20.74}
\addfonttounicode{cmcb10}{20.74}
\addfonttounicode{cmcsl12}{20.74}
\addfonttounicode{cmcbxsl10}{20.74}
\addfonttounicode{cmcssbx10}{24.88}
\addfonttounicode{cmcu10}{24.88}
\addfonttounicode{cmcssi17}{24.88}
\addfonttounicode{cmcss17}{24.88}
\addfonttounicode{cmcitt10}{24.88}
\addfonttounicode{cmcbx12}{24.88}
\addfonttounicode{cmcsltt10}{24.88}
\addfonttounicode{cmctt12}{24.88}
\addfonttounicode{cmcssdc10}{24.88}
\addfonttounicode{cmcti12}{24.88}
\addfonttounicode{cmcbxti10}{24.88}
\addfonttounicode{cmccsc10}{24.88}
\addfonttounicode{cmcyr17}{24.88}
\addfonttounicode{cmcb10}{24.88}
\addfonttounicode{cmcsl12}{24.88}
\addfonttounicode{cmcbxsl10}{24.88}
\addfonttounicode{cmcssbx10}{29.86}
\addfonttounicode{cmcu10}{29.86}
\addfonttounicode{cmcssi17}{29.86}
\addfonttounicode{cmcss17}{29.86}
\addfonttounicode{cmcitt10}{29.86}
\addfonttounicode{cmcbx12}{29.86}
\addfonttounicode{cmcsltt10}{29.86}
\addfonttounicode{cmctt12}{29.86}
\addfonttounicode{cmcssdc10}{29.86}
\addfonttounicode{cmcti12}{29.86}
\addfonttounicode{cmcbxti10}{29.86}
\addfonttounicode{cmccsc10}{29.86}
\addfonttounicode{cmcyr17}{29.86}
\addfonttounicode{cmcb10}{29.86}
\addfonttounicode{cmcsl12}{29.86}
\addfonttounicode{cmcbxsl10}{29.86}
\addfonttounicode{cmcssbx10}{35.83}
\addfonttounicode{cmcu10}{35.83}
\addfonttounicode{cmcssi17}{35.83}
\addfonttounicode{cmcss17}{35.83}
\addfonttounicode{cmcitt10}{35.83}
\addfonttounicode{cmcbx12}{35.83}
\addfonttounicode{cmcsltt10}{35.83}
\addfonttounicode{cmctt12}{35.83}
\addfonttounicode{cmcssdc10}{35.83}
\addfonttounicode{cmcti12}{35.83}
\addfonttounicode{cmcbxti10}{35.83}
\addfonttounicode{cmccsc10}{35.83}
\addfonttounicode{cmcyr17}{35.83}
\addfonttounicode{cmcb10}{35.83}
\addfonttounicode{cmcsl12}{35.83}
\addfonttounicode{cmcbxsl10}{35.83}
\fi
%    \end{macrocode}
%\iffalse
%</package>
%\fi
%
%\iffalse
%<*cmap>
%\fi
% \section{The \texttt{koi7a.cmap} file}
%
%    \begin{macrocode}
%!PS-Adobe-3.0 Resource-CMap
%%DocumentNeededResources: ProcSet (CIDInit)
%%IncludeResource: ProcSet (CIDInit)
%%BeginResource: CMap (TeX-KOI7-A)
%%Title: (TeX-KOI7-A TeX KOI7 A)
%%Version: 1.000
%%EndComments
/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (TeX)
/Ordering (KOI7)
/Supplement 0
>> def
/CMapName /TeX-KOI7-A def
/CMapType 2 def
1 begincodespacerange
<00> <FF>
endcodespacerange
2 beginbfrange
<49> <50> <0438>
<69> <70> <0418>
endbfrange
53 beginbfchar
<19> <2116>
<1D> <00AB>
<1E> <00BB>
<3C> <0451>
<3E> <0401>
<40> <044E>
<41> <0430>
<42> <0431>
<43> <0446>
<44> <0434>
<45> <0435>
<46> <0444>
<47> <0433>
<48> <0445>
<51> <044F>
<52> <0440>
<53> <0441>
<54> <0442>
<55> <0443>
<56> <0436>
<57> <0432>
<58> <044C>
<59> <044B>
<5A> <0437>
<5B> <0448>
<5C> <044D>
<5D> <0449>
<5E> <0447>
<5F> <044A>
<60> <044E>
<61> <0410>
<62> <0411>
<63> <0426>
<64> <0414>
<65> <0415>
<66> <0424>
<67> <0413>
<68> <0425>
<71> <042F>
<72> <0420>
<73> <0421>
<74> <0422>
<75> <0423>
<76> <0416>
<77> <0412>
<78> <042C>
<79> <042B>
<7A> <0417>
<7B> <0428>
<7C> <042D>
<7D> <0429>
<7E> <0427>
<7F> <042A>
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end
%%EndResource
%%EOF
%    \end{macrocode}
%\iffalse
%</cmap>
%\fi
%
% \Finale
\endinput
