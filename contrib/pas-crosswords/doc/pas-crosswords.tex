\documentclass[12pt]{article}
\usepackage{pas-doc,pas-crosswords}
\usetikzlibrary{patterns}

\title{Documentation\\ \texttt{pas-crosswords.sty 1.03}}

\begin{document}

\lstset{
	numbers=left, 
	numberstyle=\tiny, 
	stepnumber=1, 
	numbersep=3pt, 
	language=[LaTeX]TeX, 
	backgroundcolor=\color{brown!10},
	frame=shadowbox,
	rulesepcolor=\color{brown},
	rulecolor=\color{brown},
	framexleftmargin=10pt,
	keywordstyle=\color{green!50!black}\bfseries,
	basicstyle=\ttfamily,
    columns=flexible,
    keepspaces=true,
    upquote=true,
    commentstyle=\color{gray},
    morekeywords={blacksquare,blackcase,blackcases,word,words,tikzstyle,gridcross,printDef,symbsep,symbnext}
}

\head

\section{Introduction et installation}

Le package \texttt{pas-crosswords} a été conçu dans le but de créer facilement des grilles de mots croisés. Il a été codé en ANSI ; ainsi, si vous compilez vos documents en utf-8, vous devez convertir le package en utf-8 (à l'aide de notepad Plus ou tout autre éditeur).\\
Il s'installe dans le répertoire \texttt{texmf\textbackslash tex\textbackslash latex\textbackslash pas-crosswords}. 

\medskip

\textbf{Utilisateurs de Windows :} Si ce chemin n'existe pas, je vous conseille de le créer sur la partition où vous mettez tous vos documents (et que vous sauvegardez régulièrement ...) afin de ne pas écraser les packages installés manuellement quand vous installez une nouvelle version de Miktex.\\
Une fois le chemin créé, lancez le manager de Miktex, puis cliquez sur l'onglet \texttt{Root}, puis sur le bouton \texttt{Add ...} afin d'ajouter ce chemin dans la configuration de Miktex. Ensuite, revenez sur l'onglet \texttt{General} et cliquez sur le bouton \texttt{Refresh FNDB} pour rafraîchir la base de données et prendre en considération les packages installés sur le nouveau chemin.

\section{Les commandes}

\subsection{Création d'une grille}

\begin{lstlisting}
\begin{tikzpicture}
\begin{crossgrid}[h=9,v=9]

\end{crossgrid}
\end{tikzpicture}
\end{lstlisting}

\medskip

Cette commande trace une grille. Les paramètres \texttt{h} et \texttt{v} représentent, respectivement, le nombre de cases horizontales et verticales.

\subsection{Création d'une case noire}

\begin{lstlisting}
\blackcase{x}{y}
\end{lstlisting}

\medskip

\texttt{x} et \texttt{y} représentent respectivement le numéro de la colonne et le numéro de la ligne (en partant du haut) où se situe la case noire.


\subsection{Création de plusieurs cases noires}

\begin{lstlisting}
\blackcases{x1/y1,x2/y2,...xN/yN}
\end{lstlisting}

\medskip

Cette commande permet de placer plusieurs cases noires en même temps. ici, la première case sera à la colonne \texttt{x1} et à la ligne \texttt{y1}, la deuxième à la colonne \texttt{x2} et à la ligne \texttt{y2}, etc.

\subsection{Placement d'un mot}

\begin{lstlisting}
\word[<option booléenne>]{x}{y}{MOT}
\end{lstlisting}

\medskip

Cette commande positionne le mot figurant dans les dernières accolades à partir de la case de la colonne \texttt{x} à la ligne \texttt{y}. Pour préciser le sens (horizontalement ou verticalement), il faut impérativement informer l'option booléenne :

\begin{description}
\item[$\triangleright$] \texttt{h} pour que le mot soit mis horizontalement
\item[$\triangleright$] \texttt{v} pour que le mot soit mis verticalement
\end{description}

\subsection{Placement de plusieurs mots}

\begin{lstlisting}
\words[<option booléenne>]{x1/y1/MOT1,x2/y2/MOT2,...,xN,yN/MOTN}
\end{lstlisting}

\medskip

Cette commande de placer plusieurs mots à la fois. Les options sont les mêmes que pour la commande \texttt{word}.

\section{Créer une grille complète directement}

Les commandes précédentes peuvent servir à placer seulement quelques des mots.\\
Si on souhaite construire la grille complétée directement, en une seule commande, on pourra utiliser la commande suivante :

\medskip

\begin{lstlisting}
\gridcross{MOT1*MOT2,MOT3*MOT4}
\end{lstlisting}

\medskip

Ici, chaque ligne est séparée par une virgule. Donc chaque argument (entre deux virgules) devra comporter le même nombre de caractères.\\
Une case noire sera symbolisée par une étoile.

\section{Changement de styles}

Dans la mesure où la grille est créée dans un environnement TiKZ, vous pouvez changer le style des objets.

\medskip

\begin{lstlisting}
% Pour changer le style des cases noires
\tikzstyle{blackcasestyle}=[<options TiKZ>]
% Pour changer le style de la grille
% (ne fonctionne pas avec la commande \gridcross)
\tikzstyle{gridstyle}=[<options TiKZ>]
% Pour changer le style des nombres en haut et à gauche
\tikzstyle{numberstyle}=[<options TiKZ>]
% Pour changer le style des caractères dans la grille
\tikzstyle{wordstyle}=[<options TiKZ>]
\end{lstlisting}


\section{Exemples de grilles}

Voici ici un exemple où l'on choisit de construire directement toute la grille. On souhaite appliquer une échelle de 0.75 donc on demande à l'environnement TiKZ de réduire tous les n\oe uds à cette échelle.\\
De plus, on souhaite changer les couleurs ainsi que la forme des cases noires afin de donner un autre style global.

\medskip

\begin{minipage}{.65\textwidth}
\begin{lstlisting}
\begin{tikzpicture}[every node/.style={scale=.75}]
\tikzstyle{blackcasestyle}=[fill=purple,circle]
\tikzstyle{numberstyle}=[color=purple]
\tikzstyle{wordstyle}=[color=purple]
\gridcross
{%
ARCENCIEL,%
P*AN*UN*U,%
PARENT*NL,%
OR*MOIS*U,%
N*EAU*BR*,%
DAN*BI*HO,%
EVOCATION,%
NEUF*OC*C,%
TUE*TUILE%
}
\end{tikzpicture}
\end{lstlisting}
\end{minipage}
\hspace*{0.05\textwidth}
\begin{minipage}{.3\textwidth}
\begin{tikzpicture}[every node/.style={scale=.75}]
\tikzstyle{blackcasestyle}=[fill=purple,circle]
\tikzstyle{numberstyle}=[color=purple]
\tikzstyle{wordstyle}=[color=purple]
\gridcross
{%
ARCENCIEL,%
P*AN*UN*U,%
PARENT*NL,%
OR*MOIS*U,%
N*EAU*BR*,%
DAN*BI*HO,%
EVOCATION,%
NEUF*OC*C,%
TUE*TUILE%
}
\end{tikzpicture}
\end{minipage}

\medskip

Bien entendu, cet exemple est fantaisiste, mais ceci pour montrer que cette extension peut être utilisée pour autre chose que des mots croisés (par exemple, présenter à des élèves une grille où certaines cases sont cachées, l'objectif étant de trouver ce que l'on doit mettre dans les cases de coordonnées données en fonction d'un énoncé en parallèle).

\medskip

Voici ici un exemple où l'on présente une grille partiellement complétée. 

\medskip

\begin{minipage}{.6\textwidth}
\begin{lstlisting}
\begin{tikzpicture}
\begin{crossgrid}[h=9,v=9]
% Cases noires
\blackcases{%
	2/2,5/2,8/2,7/3,3/4,8/4,2/5,6/5,9/5,%
	4/6,7/6,5/8,8/8,4/9}
% Mots
\words[v]{9/2/ULU,8/3/N,2/4/R}
\words[h]{%
	2/1/RCENCIEL,3/2/AN,2/3/ARENT,%
	4/4/MOIS,7/5/BR,2/6/AN,5/6/BI,%
	8/6/HO,2/7/VOCATION,2/8/EUF,6/8/OC,%
	9/8/C,2/9/UE}
\end{crossgrid}
\end{tikzpicture}
\end{lstlisting}
\end{minipage}
\hspace*{0.05\textwidth}
\begin{minipage}{.35\textwidth}
\begin{tikzpicture}
\begin{crossgrid}[h=9,v=9]
% Cases noires
\blackcases{2/2,5/2,8/2,7/3,3/4,8/4,2/5,6/5,9/5,4/6,7/6,5/8,8/8,4/9}
% Mots
\words[v]{9/2/ULU,8/3/N,2/4/R}
\words[h]{%
	2/1/RCENCIEL,3/2/AN,2/3/ARENT,%
	4/4/MOIS,7/5/BR,2/6/AN,5/6/BI,%
	8/6/HO,2/7/VOCATION,2/8/EUF,6/8/OC,%
	9/8/C,2/9/UE}
\end{crossgrid}
\end{tikzpicture}
\end{minipage}

\medskip

Voici maintenant le même exemple, mais dont on a changé le style.

\medskip

\begin{minipage}{.6\textwidth}
\begin{lstlisting}
% Préambule : \usetikzlibrary{pattern}
\tikzstyle{blackcasestyle}=[pattern=crosshatch,%
			pattern color=blue]
\tikzstyle{gridstyle}=[color=blue]
\tikzstyle{numberstyle}=[color=blue]
\tikzstyle{wordstyle}=[color=green!50!black,%
				  scale=.75]
\begin{tikzpicture}
\begin{crossgrid}[h=9,v=9]
% Cases noires
\blackcases{%
	2/2,5/2,8/2,7/3,3/4,8/4,2/5,6/5,9/5,%
	4/6,7/6,5/8,8/8,4/9}
% Mots
\words[v]{9/2/ULU,8/3/N,2/4/R}
\words[h]{%
	2/1/RCENCIEL,3/2/AN,2/3/ARENT,%
	4/4/MOIS,7/5/BR,2/6/AN,5/6/BI,%
	8/6/HO,2/7/VOCATION,2/8/EUF,6/8/OC,%
	9/8/C,2/9/UE}
\end{crossgrid}
\end{tikzpicture}
\end{lstlisting}
\end{minipage}
\hspace*{0.05\textwidth}
\begin{minipage}{.35\textwidth}
\tikzstyle{blackcasestyle}=[pattern=crosshatch,pattern color=blue]
\tikzstyle{gridstyle}=[color=blue]
\tikzstyle{numberstyle}=[color=blue]
\tikzstyle{wordstyle}=[color=green!50!black,scale=.75]
\begin{tikzpicture}
\begin{crossgrid}[h=9,v=9]
% Cases noires
\blackcases{2/2,5/2,8/2,7/3,3/4,8/4,2/5,6/5,9/5,4/6,7/6,5/8,8/8,4/9}
% Mots
\words[v]{9/2/ULU,8/3/N,2/4/R}
\words[h]{%
	2/1/RCENCIEL,3/2/AN,2/3/ARENT,%
	4/4/MOIS,7/5/BR,2/6/AN,5/6/BI,%
	8/6/HO,2/7/VOCATION,2/8/EUF,6/8/OC,%
	9/8/C,2/9/UE}
\end{crossgrid}
\end{tikzpicture}
\end{minipage}
\pagebreak

\section{Les définitions}

\subsection{Les commandes}
Afin d'écrire les définitions, horizontales ou verticales, il existe la commande suivante :

\medskip

\begin{lstlisting}
\printDef[<s>]{<h|v>}{La définition}
\end{lstlisting}

L'option \og s \fg{} doit être informée s'il s'agit d'une définition qui fait suite à une autre pour un mot sur une même ligne ou dans la même colonne.

\medskip

Le premier argument informe s'il s'agit d'une définition pour un mot horizontal (\og h \fg) ou vertical (\og v \fg).

\medskip

La seconde liste de définitions devra être précédée par la commande \texttt{\textbackslash newlist} afin de remettre le compteur de définitions à 0.

\medskip

Voyons un exemple :

\begin{lstlisting}
\textbf{Horizontalement}

\medskip

\printDef{h}{Serial killer}
\printDef[s]{h}{Fabricant de lunettes}
\printDef{h}{Cédric Villani par exemple}
\printDef[s]{h}{Lieux de création mathématiques}
\printDef[s]{h}{Elle peut être super}
\printDef{h}{Bande à part}

\bigskip

\textbf{Verticalement}\newlist

\printDef{v}{Valait 100 pour Hardy}
\printDef[s]{v}{Mathematicorum Principi}
\printDef{v}{\'Egaux par certains côtés}
\printDef[s]{v}{Dites}
\printDef{v}{En extase}
\printDef[s]{v}{Fait suer}
\end{lstlisting}

\medskip

\textbf{Horizontalement}

\medskip

\printDef{h}{Serial killer}
\printDef[s]{h}{Fabricant de lunettes}
\printDef{h}{Cédric Villani par exemple}
\printDef[s]{h}{Lieux de création mathématiques}
\printDef[s]{h}{Elle peut être super}
\printDef{h}{Bande à part}

\bigskip

\textbf{Verticalement}\newlist

\printDef{v}{Valait 100 pour Hardy}
\printDef[s]{v}{Mathematicorum Principi}
\printDef{v}{\'Egaux par certains côtés}
\printDef[s]{v}{Dites}
\printDef{v}{En extase}
\printDef[s]{v}{Fait suer}

\subsection{Changement des symboles de séparation}

A la place de \og -- \fg, on peut mettre ce que l'on veut à l'aide de la commande :

\medskip

\begin{lstlisting}
\def\symbsep{<le symbole>}
\end{lstlisting}

\bigskip

On peut aussi mettre un symbole avant chaque numéros de lignes/colonnes avec la commande :

\medskip

\begin{lstlisting}
\def\symbnext{<le symbole>}
\end{lstlisting}

\medskip

Voyons cela avec l'exemple précédent :

\medskip

\begin{lstlisting}
\def\symbsep{$\diamond$}
\def\symbnext{$\blacksquare$ } % un espace après le symbole pour une séparation
\textbf{Horizontalement}

\medskip

\printDef{h}{Serial killer}
\printDef[s]{h}{Fabricant de lunettes}
\printDef{h}{Cédric Villani par exemple}
\printDef[s]{h}{Lieux de création mathématiques}
\printDef[s]{h}{Elle peut être super}
\printDef{h}{Bande à part}

\bigskip

\textbf{Verticalement}

\setcounter{cntdef}{0}
\printDef{v}{Valait 100 pour Hardy}
\printDef[s]{v}{Mathematicorum Principi}
\printDef{v}{\'Egaux par certains côtés}
\printDef[s]{v}{Dites}
\printDef{v}{En extase}
\printDef[s]{v}{Fait suer}
\end{lstlisting}

\medskip

\def\symbsep{$\diamond$}
\def\symbnext{$\blacksquare$ }
\textbf{Horizontalement}\newlist

\medskip

\printDef{h}{Serial killer}
\printDef[s]{h}{Fabricant de lunettes}
\printDef{h}{Cédric Villani par exemple}
\printDef[s]{h}{Lieux de création mathématiques}
\printDef[s]{h}{Elle peut être super}
\printDef{h}{Bande à part}

\bigskip

\textbf{Verticalement}\newlist

\printDef{v}{Valait 100 pour Hardy}
\printDef[s]{v}{Mathematicorum Principi}
\printDef{v}{\'Egaux par certains côtés}
\printDef[s]{v}{Dites}
\printDef{v}{En extase}
\printDef[s]{v}{Fait suer}
\end{document}