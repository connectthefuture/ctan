\def\cellwise{\centerline{CELLWISE - a \TeX{}-macro   }\centerline{Matthias Borck-Elsner  matthias at kleinesnetzwerk.net}\vskip\baselineskip }%The
                                %title
\newdimen\cellnotesize 
\newdimen\cellwidth
\newdimen\cellheight
\newdimen\cellwall
\newcount\cells
\newcount\cellfloors
\newcount\cellblocks
\newcount\jails
\newcount\cellnotes
\def\cellnotefont{cmr8}
\def\jailcmds{}
\def\cellblockcmds{}
\def\cellfloorcmds{}
\def\cellcmds{}
\def\cellno{}
\newwrite\cntnotes
\immediate\openout\cntnotes=\jobname.cnt\relax
   \font\cellnotesize=\cellnotefont
     \def\cellnote#1{\global\advance\cellnotes by 1
  $^{\the\cellnotes}$\immediate\write\cntnotes{
\cellnotesize{\cellno $^{\the\cellnotes}$ #1 \hfill\vskip0.1\baselineskip }}}%
\def\thecellnotes[#1]{#1 \vskip\baselineskip  \immediate\closeout\cntnotes \input\jobname.cnt \relax}%

\cellwidth=4cm \cellheight=4cm \cellwall=10pt
\def\cellrag#1{#1}
\def\jailname#1{#1 \vskip1.0\baselineskip}
\def\jail#1{\advance\jails by 1 \cellblocks=0 \cellfloors=0 \cells=0
  \parindent=0pt \jailcmds \vskip0.5\baselineskip #1}%
%
\def\cellblock#1{\advance\cellblocks by 1 \parindent=0pt \cellblockcmds  #1 \vskip0.5\baselineskip  }%
%
\def\cellfloor#1{\advance\cellfloors by 1 \parindent=0pt  \hbox{\cellfloorcmds #1} \vskip0.5\baselineskip }
%
\def\cell#1{ \parindent=0pt %
\advance\cells by 1 \vtop{\hsize=\cellwidth \cellnoshow \cellcmds
  \vskip0.5\baselineskip \cellrag  #1 \vfill
  \vskip0.5\baselineskip}\hskip\cellwall}


