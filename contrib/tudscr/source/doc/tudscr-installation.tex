\setchapterpreamble{\tudhyperdef'{sec:install:ext}}
\chapter{Weiterführende Installationshinweise}
%
\noindent\Attention{%
  Im Folgenden werden unterschiedliche Varianten erläutert, wie die jeweils 
  aktuelle Version von \TUDScript genutzt werden kann, falls bereits eine 
  frühere Variante als \textbf{lokale Nutzerinstallation} verwendet wird. 
  Unabhängig davon, für welche Möglichkeit Sie sich entscheiden, ist eine 
  abermalige Installation der PostScript"=Schriften für eine fehlerfreie 
  Verwendung von \TUDScript zwingend notwendig, wenn Sie bisher \TUDScript vor 
  der Version~v2.02 verwendet haben, da der Installationsprozess der Schriften 
  des \CDs für die Version~v2.02 nochmals angepasst werden musste. Dieser 
  Schritt ließ sich leider nicht vermeiden. Für zukünftige Versionen kann 
  darauf hoffentlich verzichtet werden, sodass Aktualisierungen ausschließlich 
  über CTAN eingespielt werden können. In \autoref{sec:install} wird der 
  Installationsprozess der PostScript"=Schriften beschrieben.
}

\bigskip\noindent
Bis zur Version~v2.01 wurde \TUDScript ausschließlich über das \Forum zur 
lokalen Nutzerinstallation angeboten. In erster Linie hat das historische 
Hintergründe und hängt mit der Entstehungsgeschichte von \TUDScript zusammen. 

Eine lokale Nutzerinstallation bietet mehr oder weniger genau einen Vorteil. 
Treten bei der Verwendung von \TUDScript Probleme auf, können diese im Forum 
gemeldet und diskutiert werden. Ist für ein solches Problem tatsächlich eine 
Fehlerkorrektur respektive eine Aktualisierung von \TUDScript nötig, kann 
diese schnell und unkompliziert über das \GitHubRepo bereitgestellt und durch 
den Anwender sofort genutzt werden.

Dies hat allerdings für alle Anwender, welche das Forum relativ wenig oder gar 
nicht besuchen, den großen Nachteil, dass Sie nicht von Aktualisierungen, 
Verbesserungen und Fehlerkorrekturen neuer Versionen profitieren können. Auch 
alle nachfolgenden Bugfixes und Aktualisierungen des \TUDScript-Bundles müssen 
durch den Anwender manuell durchgeführt werden. Daher wird die Verbreitung via 
\CTAN[pkg/tudscr] präferiert, sodass \TUDScript stets in der gerade aktuellen 
Version verfügbar ist~-- eine durch den Anwender aktuell gehaltene 
\hologo{LaTeX}"=Distribution vorausgesetzt. Der einzige Nachteil bei diesem 
Ansatz ist, dass die Verbreitung eines Bugfixes und die anschließende 
Bereitstellung durch die verwendete Distribution für gewöhnlich bis zu zwei 
Tagen dauert.

Die gängigen \hologo{LaTeX}"=Distributionen durchsuchen im Regelfall zuerst das 
lokale \Path{texmf}"=Nutzerverzeichnis nach Klassen und Paketen und erst daran 
anschließend den \Path{texmf}"=Pfad der Distribution selbst. Dabei spielt es 
keine Rolle, in welchem Pfad die neuere Version einer Klasse oder eines Paketes 
liegt. Sobald im Nutzerverzeichnis die gesuchte Datei gefunden wurde, wird die 
Suche beendet.
\Attention{%
  In der Konsequenz bedeutet dies, dass sämtliche Aktualisierungen über CTAN 
  nicht zum Tragen kommen, falls \TUDScript als lokale Nutzerversion 
  installiert wurde.
}

Deshalb wird Anwendern, die \TUDScript in der Version~v2.01 oder älter nutzen 
und sich nicht \emph{bewusst} für eine lokale Nutzerinstallation entschieden 
haben, empfohlen, diese zu deinstallieren. Der Prozess der Deinstallation wird 
in \autoref{sec:local:uninstall} erläutert. Wird diese einmalig durchgeführt, 
können Updates des \TUDScript-Bundles durch die Aktualisierungsfunktion der 
Distribution erfolgen. Wie das \TUDScript-Bundle trotzdem als lokale 
Nutzerversion installiert oder aktualisiert werden kann, ist in 
\autoref{sec:local:install} beziehungsweise \autoref{sec:local:update} zu 
finden. Der Anwender sollte in diesem Fall allerdings genau wissen, was er 
damit bezweckt, da er in diesem Fall für die Aktualisierung von \TUDScript 
selbst verantwortlich ist.



\section{Lokale Deinstallation des \TUDScript-Bundles}
\tudhyperdef*{sec:local:uninstall}%
\index{Deinstallation}%
%
Um die lokale Nutzerinstallation zu entfernen, kann für Windows
\hrfn{\Download{uninstall/tudscr\_uninstall.bat}}{\File{tudscr\_uninstall.bat}}
sowie für unixartige Betriebssysteme
\hrfn{\Download{uninstall/tudscr\_uninstall.sh}}{\File{tudscr\_uninstall.sh}}
verwendet werden. Nach der Ausführung des jeweiligen Skriptes kann in der 
Kommandozeile beziehungsweise im Terminal mit
%
\begin{quoting}
\Path{kpsewhich --all tudscrbase.sty}
\end{quoting}
%
überprüft werden, ob die Deinstallation erfolgreich war oder immer noch eine 
lokale Nutzerinstallation vorhanden ist. Es werden alle Pfade ausgegeben, in 
welchen die Datei \File*{tudscrbase.sty} gefunden wird. Erscheint nur noch der 
Pfad der Distribution, ist die \TUDScript-Version von CTAN aktiv und der 
Anwender kann mit dem \TUDScript-Bundle arbeiten. Falls es nicht 
schon passiert ist, müssen dafür lediglich die Schriften des \CDs installiert 
werden (\autoref{sec:install}).

Wird \emph{nur} das lokale Nutzerverzeichnis oder gar kein Verzeichnis 
gefunden, so wird höchstwahrscheinlich eine veraltete Distribution 
verwendet. In diesem Fall wird eine Aktualisierung dieser \emph{unbedingt} 
empfohlen. Sollte dies nicht möglich sein, \emph{muss} \TUDScript als lokale 
Nutzerversion aktualisiert (\autoref{sec:local:update}) beziehungsweise bei der 
erstmaligen Verwendung installiert (\autoref{sec:local:install}) werden. Sollte 
neben dem Pfad der Distribution immer noch mindestens ein weiterer Pfad 
angezeigt werden, so ist weiterhin eine lokale Nutzerversion installiert. In 
diesem Fall hat der Anwender zwei Möglichkeiten:
%
\begin{enumerate}
\item Entfernen der lokalen Nutzerinstallation (manuell)
\item Aktualisierung der lokalen Nutzerversion
\end{enumerate}
%
Die erste Variante wird nachfolgend erläutert, die zweite Möglichkeit wird in 
\autoref{sec:local:update} beschrieben. Nur die manuelle Deinstallation der 
lokalen Nutzerversion \TUDScript ermöglicht dabei die Verwendung der jeweils 
aktuellen CTAN"=Version. Hierfür ist etwas Handarbeit durch den Anwender 
vonnöten. Der in der Kommandozeile respektive im Terminal mit
%
\begin{quoting}
\Path{kpsewhich --all tudscrbase.sty}
\end{quoting}
%
gefundene~-- zum Ordner der Distribution \emph{zusätzliche}~-- Pfad hat die 
folgende Struktur:
%
\begin{quoting}
\Path{\PName{Installationspfad}/tex/latex/tudscr/tudscrbase.sty}
\end{quoting}
%
Um die Nutzerinstallation vollständig zu entfernen, muss als erstes zu 
\Path{\PName{Installationspfad}} navigiert werden. Anschließend ist in diesem 
Pfad Folgendes durchzuführen:
%
\settowidth\tempdim{\Path{tex/latex/tudscr/}}%
\begin{description}[labelwidth=\tempdim,labelsep=1em]
\item[\Path{tex/latex/tudscr/}]\File*{.cls}- und \File*{.sty}"~Dateien löschen
\item[\Path{tex/latex/tudscr/}]Ordner \Path{logo} vollständig löschen
\item[\Path{doc/latex/}] Ordner \Path{tudscr} vollständig löschen
\item[\Path{source/latex/}] Ordner \Path{tudscr} vollständig löschen
\end{description}
%
Das Verzeichnis \Path{\PName{Installationspfad}/tex/latex/tudscr/fonts} 
\textbf{sollte erhalten bleiben}. Andernfalls müssen die Schriften des \CDs 
abermals wie unter \autoref{sec:install} beschrieben installiert werden.
Zum Abschluss ist in der Kommandozeile beziehungsweise im Terminal der Befehl 
\Path{texhash} aufzurufen. Damit wurde die lokale Nutzerversion entfernt und es 
wird von nun an die Version von \TUDScript genutzt, welche durch die verwendete 
Distribution bereitgestellt wird.



\section{Lokale Installation des \TUDScript-Bundles}
\tudhyperdef*{sec:local:install}%
\index{Installation!Nutzerinstallation|(}%
%
Für die lokale Nutzerinstallation von \TUDScript inklusive der Schriften des 
\CDs werden für Windows sowie unixartige Betriebssysteme die passenden Skripte 
angeboten. Eine lokale Installation sollte nur von Anwender ausgeführt werden, 
die genau wissen, aus welchen Gründen dies geschehen soll.


\subsection{Lokale Installation von \TUDScript unter Windows}
Für eine lokale Nutzerinstallation des \TUDScript-Bundles und der dazugehörigen 
Schriften für die Distributionen \Distribution{\hologo{TeX}~Live} oder 
\Distribution{\hologo{MiKTeX}} werden neben den Schriftarchiven die Dateien aus
\hrfn{\Download{\vTUDScript/TUD-Script\_\vTUDScript\_Windows\_full.zip}}{\File*{TUD-Script\_\vTUDScript\_Windows\_full.zip}}
benötigt. Vor der Nutzung des Installationsskripts 
\File{tudscr\_\vTUDScript\_install.bat} sollte sichergestellt werden, dass sich 
\emph{alle} der folgenden Dateien im selben Verzeichnis befinden:
%
\settowidth\tempdim{\File{tudscr\_\vTUDScript\_install.bat}}%
\begin{description}[labelwidth=\tempdim,labelsep=1em]
  \item[\File{tudscr\_\vTUDScript.zip}]Archiv mit Klassen- und Paketdateien
  \item[\File{tudscr\_\vTUDScript\_install.bat}]Installationsskript
  \item[\File{Univers\_PS.zip}]Archiv mit Schriftdateien für \Univers
  \item[\File{DIN\_Bd\_PS.zip}]Archiv mit Schriftdateien für \DIN
  \item[\File{tudscr\_fonts\_install.zip}]Archiv mit Metriken für die
    Schriftinstallation via \Package{fontinst}
\end{description}
%
Beim Ausführen des Installationsskripts werden alle Schriften in das lokale 
Nutzerverzeichnis der jeweiligen Distribution installiert, falls kein anderes 
Verzeichnis explizit angegeben wird. Für Hinweise bei Problemen mit der 
Schriftinstallation sei auf \autoref{sec:install:win} verwiesen.
\Attention{%
  Wird die \hologo{LaTeX}"=Distribution \Distribution{\hologo{MiKTeX}} genutzt, 
  sollte in jedem Fall vor der Ausführung der Installationsskripte ein Update 
  der Distribution durchgeführt werden. Andernfalls wird es unter Umständen im 
  Installationsprozess oder bei der Nutzung von \TUDScript zu Problemen kommen.
}



\subsection{Lokale Installation von \TUDScript unter Linux und OS~X}
Für eine lokale Nutzerinstallation des \TUDScript-Bundles und der dazugehörigen 
Schriften für die Distributionen \Distribution{\hologo{TeX}~Live} oder 
\Distribution{Mac\hologo{TeX}} werden neben den Schriftarchiven die Dateien aus
\hrfn{\Download{\vTUDScript/TUD-Script\_\vTUDScript\_Unix\_full.zip}}{\File*{TUD-Script\_\vTUDScript\_Unix\_full.zip}}
benötigt. Vor der Verwendung des Installationsskripts 
\File{tudscr\_\vTUDScript\_install.sh} sollte sichergestellt werden, dass sich 
\emph{alle} der folgenden Dateien im selben Verzeichnis befinden:
%
\begin{description}[labelwidth=\tempdim,labelsep=1em]
\settowidth\tempdim{\File{tudscr\_\vTUDScript\_install.sh}}%
  \item[\File{tudscr\_\vTUDScript.zip}]Archiv mit Klassen- und Paketdateien
  \item[\File{tudscr\_\vTUDScript\_install.sh}]Installationsskript
    (Terminal: \Path{bash tudscr\_\vTUDScript\_install.sh})
  \item[\File{Univers\_PS.zip}]Archiv mit Schriftdateien für \Univers
  \item[\File{DIN\_Bd\_PS.zip}]Archiv mit Schriftdateien für \DIN
  \item[\File{tudscr\_fonts\_install.zip}]Archiv mit Metriken für die
    Schriftinstallation via \Package{fontinst}
\end{description}
%
Beim Ausführen des Installationsskripts werden alle Schriften in das lokale 
Nutzerverzeichnis der jeweiligen Distribution installiert. Für Hinweise bei 
Problemen mit der Schriftinstallation sei auf \autoref{sec:install:unix} 
verwiesen.



\section{Lokales Update des \TUDScript-Bundles}
\tudhyperdef*{sec:local:update}%
\index{Update|!}%
%
\subsection{Update des \TUDScript-Bundles ab Version~\NoCaseChange{v}2.02}
Soll eine lokale Aktualisierung des \TUDScript-Bundles auf \vTUDScript{} 
erfolgen, so muss~-- abhängig vom verwendeten Betriebssystem~-- das Archiv
\hrfn{\Download{\vTUDScript/TUD-Script\_\vTUDScript\_Windows\_update.zip}}{\File*{TUD-Script\_\vTUDScript\_Windows\_update.zip}}
respektive 
\hrfn{\Download{\vTUDScript/TUD-Script\_\vTUDScript\_Unix\_update.zip}}{\File*{TUD-Script\_\vTUDScript\_Unix\_update.zip}}
entpackt und daran anschließend entweder \File{tudscr\_\vTUDScript\_update.bat} 
oder \File{tudscr\_\vTUDScript\_update.sh} ausgeführt werden.
\Attention{%
  Die lokale Aktualisierung funktioniert nur, wenn \TUDScript bereits 
  mindestens in der Version~v2.02 entweder als lokale Nutzerversion oder über 
  die Distribution sowie die PostScript"=Schriften installiert sind.%
}

\subsection{Update des \TUDScript-Bundles ab Version~\NoCaseChange{v}2.00}
%
Mit der Version~v2.02 gab es einige tiefgreifende Änderungen. Deshalb wird für 
vorausgehende Versionen~-- sprich v2.00 und v2.01~-- kein dediziertes Update 
angeboten. Die Aktualisierung kann durch den Anwender entweder~-- wie in 
\autoref{sec:local:install} erläutert~-- mit einer skriptbasierten oder mit 
einer manuellen Neuinstallation erfolgen. Für die zweite Variante muss 
der Inhalt des Archivs
\hrfn{\Download{\vTUDScript/tudscr\_\vTUDScript.zip}}{\File{tudscr\_\vTUDScript.zip}}
in das lokale \Path{texmf}"=Nutzerverzeichnis kopiert werden. Des Weiteren 
wurde die Installation der Schriften überarbeitet. Deshalb wird auch für diese 
eine Neuinstallation (\autoref{sec:install}) sehr empfohlen.
\index{Installation!Nutzerinstallation|)}%


\subsection{Update des \TUDScript-Bundles von Version \NoCaseChange{v}1.0}
%
Ist \TUDScript in der veralteten \emph{Version~v1.0} installiert, so wird vor 
der Aktualisierung dringlichst zu einem vollständigen Entfernen dieser Version 
geraten. Andernfalls werden nach einem Update bei der Verwendung massive 
Probleme und Fehler auftreten. Zur Deinstallation werden die Skripte 
\hrfn{\Download{uninstall/tudscr_uninstall.bat}}{\File{tudscr\_uninstall.bat}}
respektive
\hrfn{\Download{uninstall/tudscr_uninstall.sh}}{\File{tudscr\_uninstall.sh}}
bereitgestellt. Die aktuelle Version~\vTUDScript{} kann nach der vollständigen 
Deinstallation aller veralteten Versionen wie in \autoref{sec:install} 
beschrieben installiert werden.

Im Vergleich zur \emph{Version~v1.0} hat sich an der Benutzerschnittstelle 
nicht sehr viel verändert, ein Umstieg auf die Version~\vTUDScript{} dürfte 
keine Schwierigkeiten bereiten. Treten danach dennoch Probleme auf, sollte der 
Anwender als erstes die Beschreibung des Paketes \Package{tudscrcomp}'full' 
lesen, welches eine Schnittstelle zur Nutzung alter und ursprünglich nicht mehr 
vorgesehener Befehle sowie Optionen bereitstellt. Allerdings werden einige von 
diesen auch durch das Paket \Package{tudscrcomp} nicht mehr bereitgestellt. 
Aufgeführt sind diese in \autoref{sec:obsolete}. Sollten trotz aller Hinweise 
dennoch Fehler oder Probleme beim Umstieg auf die neue \TUDScript-Version 
auftreten, ist eine Meldung im \Forum die beste Möglichkeit, um Hilfe zu 
erhalten.




\section{Installationshinweise für portable Installationen}
\tudhyperdef*{sec:install:portable}%
%
Prinzipiell ist die Installation der PostScript-Schriften des \CDs bei der 
Nutzung von \Distribution{\hologo{TeX}~Live~Portable}|?| respektive  
\Distribution{\hologo{MiKTeX}~Portable}|?| äquivalent zur nicht"~portablen 
Variante, welche in \autoref{sec:install} beschrieben wird. Alle dort gegebenen 
Hinweise sollten sorgfältig berücksichtigt werden. Zur Installation wird das 
Archiv
\hrfn{\Download{fonts/TUD-Script_fonts_Windows.zip}}{\File*{TUD-Script\_fonts\_Windows.zip}}
benötigt, das auf der lokalen Festplatte oder auf dem externen Speichermedium 
entpackt werden kann.

\minisec{\NoCaseChange{\hologo{TeX}}~Live~Portable}
Das folgende Vorgehen wurde mit Windows getestet. Empfehlungen für die portable 
Installation für unixoide Betriebssysteme können gerne an \mailto{\tudscrmail} 
gesendet werden.
\begin{enumerate}
\item Installation von \Distribution{\hologo{TeX}~Live~Portable} in den Pfad
  \Path{\PName{Laufwerksbuchstabe}:\textbackslash LaTeX\textbackslash texlive}
\item Die Datei \File*{tl-tray-menu.exe} im Installationspfad öffnen
\item Im Infobereich der Taskleiste mit einem Rechtsklick auf das Symbol von 
  \Distribution{\hologo{TeX}~Live~Portable} das Kontextmenü öffnen und entweder 
  über die grafische Oberfläche (\emph{Package Manager}) oder die Kommandozeile 
  (\emph{Command Prompt}) ein Update durchführen
\item Über das Kontextmenü die Kommandozeile ausführen und in dieser das Skript 
  für die Installation der Schriften \File{tudscr\_fonts\_install.bat} starten. 
  Dabei gegebenenfalls zuvor in den Pfad des Skriptes wechseln~-- exemplarisch:
  \begin{quoting}[rightmargin=0pt]
  \Path{%
    cd~/d~\%USERPROFILE\%\textbackslash{}Downloads%
    \textbackslash{}TUD-Script\_fonts\_Windows\,\POParameter{ENTER}
  }\newline
  \Path{tudscr\_fonts\_install.bat}\,\POParameter{ENTER}
  \end{quoting}
  Der durch das Installationsskript voreingestellte Installationspfad kann im 
  Normalfall so belassen werden. Wird der Pfad geändert, so sollte dieser sich 
  logischerweise auf dem externen Speichermedium 
  \Path{\PName{Laufwerksbuchstabe}:\textbackslash} befinden.
  \Attention{%
    Ein Ausführen ohne die über \Distribution{\hologo{TeX}~Live~Portable} 
    geöffnete Kommandozeile führt zu Fehlern.
  }%
\end{enumerate}

\minisec{\NoCaseChange{\hologo{MiKTeX}}~Portable}
\begin{enumerate}
\item Installation von \Distribution{\hologo{MiKTeX}~Portable} in den Pfad
  \Path{\PName{Laufwerksbuchstabe}:\textbackslash LaTeX\textbackslash MiKTeX}%
  \footnote{Der Pfad darf \emph{nicht} auf der obersten Verzeichnisebene 
  \Path{\PName{Laufwerksbuchstabe}:\textbackslash} liegen.
  }
\item Die Datei \File{miktex-portable.cmd} im Installationspfad öffnen
\item Im Infobereich der Taskleiste mit einem Rechtsklick auf das Symbol von 
  \Distribution{\hologo{MiKTeX}~Portable} das Kontextmenü öffnen und ein Update 
  durchführen
\item Über das Kontextmenü die Kommandozeile ausführen und in dieser das Skript 
  für die Installation der Schriften \File{tudscr\_fonts\_install.bat} starten.
  Dabei gegebenenfalls zuvor in den Pfad des Skriptes wechseln~-- exemplarisch:
  \begin{quoting}[rightmargin=0pt]
  \Path{%
    cd~/d~\%USERPROFILE\%\textbackslash{}Downloads%
    \textbackslash{}TUD-Script\_fonts\_Windows\,\POParameter{ENTER}
  }\newline
  \Path{tudscr\_fonts\_install.bat}\,\POParameter{ENTER}
  \end{quoting}
  Der durch das Installationsskript voreingestellte Installationspfad kann im 
  Normalfall so belassen werden. Wird der Pfad geändert, so sollte dieser sich 
  logischerweise auf dem externen Speichermedium 
  \Path{\PName{Laufwerksbuchstabe}:\textbackslash} befinden. Bei diesem Schritt 
  werden die Pakete \Package{fontinst}, \Package{cmbright} und \Package{iwona} 
  unter Umständen nachinstalliert.
  \Attention{%
    Ein Ausführen ohne die über \Distribution{\hologo{MiKTeX}~Portable} 
    geöffnete Kommandozeile führt zu Fehlern.
  }%
\item Bei der erstmaligen Verwendung einer der \TUDScript-Klassen werden die 
  Pakete \Package*{tudscr}, \Package{koma-script}, \Package{etoolbox}, 
  \Package{textcase}, \Package{environ}, \Package{trimspaces}, 
  \Package{xcolor} sowie \Package{mptopdf}<> durch 
  \Distribution{\hologo{MiKTeX}~Portable} nachinstalliert, falls diese nicht 
  schon vorhanden sind und die automatische Nachinstallation von Paketen 
  aktiviert ist.
\end{enumerate}
