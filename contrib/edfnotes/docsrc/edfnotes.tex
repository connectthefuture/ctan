\ProvidesFile{edfnotes.tex}[2011/02/22 documenting edfnotes.sty (UL)]
\title{\textsf{edfnotes.sty}\\---\\Critical Annotations to Footnote 
       Lines\thanks{This document describes version 
       \textcolor{blue}{\UseVersionOf{edfnotes.sty}} 
       of \textsf{edfnotes.sty} as of \UseDateOf{edfnotes.sty}.}}
% \listfiles 
{ \RequirePackage{makedoc}[2010/12/20] \ProcessLineMessage{} 
  \MakeJobDoc{19}{\SectionLevelThreeParseInput}     %% 2010/12/16
}
\documentclass{article}%% TODO paper dimensions!?
\input{makedoc.cfg} %% shared formatting settings
% \providecommand*{\strong}{\textbf}                  %% 2010/12/15
%% 2011/01/01:
\newcommand*{\setoffbox}{\\[\smallskipamount]} 
\newcommand*{\SOB}{} \let\SOB\setoffbox %% or let |...| redefine ...
\ReadPackageInfos{edfnotes}
\usepackage{color}
\makeatletter \@beginparpenalty\@lowpenalty \makeatother
\sloppy
\begin{document}
\maketitle
\begin{abstract}\noindent
'edfnotes.sty' extends 
\CtanPkgRef{ednotes}{ednotes.sty}\urlpkgfoot{ednotes} %% 2011/02/16
so that you can refer even to \emph{footnotes} 
of the edited work by line numbers, 
%% 2011/01/01:
building on the accompanying 'fnlineno' package in the 
\ctanpkgref{lineno} bundle.\urlpkgfoot{lineno} 
%% rm. 2011/02/09:
% %% 2011/01/08:
% While version v0.1 of 'ednotes' 
% just aimed at not loosing annotations to footnotes
% and v0.2 aimed at printing annotations to main text 
% earlier than annotations to footnotes, 
% v0.3 aims at starting an annotation to a footnote 
% on the same page where the annotated passages starts. 
% %% 2011/01/19:
% v0.4 introduced `\clearfootnoteannotations'.
% v0.5 fixes a basic mistake from v0.2 and aims at 
% more transparent code, including a re-implementation 
% of 'ednotes'' core macro.
% v0.6 re-implements v0.2 in the sense that, when 
% lemmas move among pages, the annotations needn't wander 
% to the end of the edition as often as with v0.2 through v0.5.
'ednotes.sty' has addressed ``scholarly" critical editions 
of (hand-written) manuscripts. 
%% 2011/02/10:
'edfnotes' additionally supports critical editions of 
(printed) \emph{works with footnotes.}
The package was developed for an edition of 
\Wikienref{Bernard Bolzano}'s 
\textit{Paradoxien des Unendlichen} by Prof.\ Dr.\ Dr.\ Christian 
Tapp---a work with some very long footnotes. 

%% moved etc. 2011/02/14:
As to \emph{implementation}, 
%% added 2011/02/22:
'edfnotes' modifies 'ednotes'' annotation commands
and label-test mechanism so that the latter does not break
and the former place critical notes on the pages and
in the order as one naturally expects (not so easy with footnotes).
Certain core parts of 'ednotes' have been re-implemented entirely, 
this may later migrate into 'ednotes' itself.
It had been hoped that 'edfnotes' could build on the 
\ctanpkgref{bigfoot} package.\urlfoot{CtanPkgRef}{bigfoot}
This might have improved (automatic) page breaking and placement 
of original footnotes and critical annotations 
(whereas at present, some page breaks need manual trial-and-error 
 solutions). 
However, analysis of 'lineno' and 'ednotes' for extending them,
as well as many unexpected difficulties,
exhausted project resources too early.
David Kastrup's `\MakeSorted' 
(or `\MakeSortedPerPage', actually from 
 \ctanpkgref{perpage})\urlpkgfoot{perpage} 
has here been implemented 
by `\insert'ing annotations to footnotes at the last main text line of 
a page only, hooking into 'lineno''s numbering mechanism---a 
nice (``leight-weight"---?) alternative to David Kastrup's approach.
  \par\smallskip\noindent
\strong{Keywords:}\quad critical editions; footnotes
\end{abstract}
  \newpage
\tableofcontents

\section{Usage and Features} 
\subsection{Package File Header (Legalize)}
\input{edfnotes.doc}
\section{Example}       %% 2011/02/14
The file `PdUsample.pdf' 
% (belonging to documentation, `docint/' directory) %% rm. 2011/02/16
shows results with a very long 
(original, edited) footnote in 
\Wikienref{Bernard Bolzano}'s 
\textit{Paradoxien des Unendlichen}, 
with critical annotations by Christian Tapp.
\end{document}

VERSION HISTORY

2010/12/31  very first
2011/01/01  \SOB
2011/01/03  \newpage
2011/01/07  \strong
2011/01/08  for v0.3; `\jobname' replaced by `edfnotes'
2011/01/16  changed page breaking
2011/01/19  for v0.5
2011/02/02  for v0.6
2011/02/09  for public presentation
2011/02/10  abstract changed/extended; example PdUsample.pdf; 
            wiki link for Bolzano
2011/02/16  link to ednotes bundle, rm. `docint/'
2011/02/22  clarification in abstract
